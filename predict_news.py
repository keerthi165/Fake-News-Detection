import random
from flask import Flask, request, render_template,url_for
import pickle
from keras import backend as k
from collections import Counter
import pandas as pd
import numpy as np
import sys

from sklearn.utils import shuffle

app = Flask(__name__)
@app.route('/',methods=['GET','POST'])
def start():
    return render_template('Fake News Classifier.html')


@app.route('/result',methods=['POST'])
def result():
    if request.method == 'POST':
        def load_glove(file):
            f = open(file, 'r')
            embed = []
            word = []
            pair = dict()
            for line in f:
                split = line.split()
                word.append(split[0])
                embedding = np.array([float(val) for val in split[1:]])
                embed.append(embedding)
                pair[split[0]] = embedding
            embed = np.array(embed)
            return pair, word

        glove = 'glove.6B.50d.txt'
        glove_vec, words = load_glove(glove)

        # print(glove_vec['newyork'])
        # only considering words that appear for more than 5 times
        a = pd.read_csv('fake_or_real_news.csv')
        b = pd.read_csv('project-dataset-1.csv')
        df = pd.concat([a, b])
        df = shuffle(df)
        df.drop('Unnamed: 0', axis=1, inplace=True)
        df.title = df.title.str.lower()
        df.text = df.text.str.lower()
        df.title = df.title.str.replace(r'http[\w:/\.]+', '<URL>')  # remove urls
        df.text = df.text.str.replace(r'http[\w:/\.]+', '<URL>')
        df.title = df.title.str.replace(r'\s\s+', ' ')  # replace multple white space with a single one
        df.text = df.text.str.replace(r'\s\s+', ' ')
        df.title = df.title.str.strip()
        df.text = df.text.str.strip()
        all_words = ' '.join(df.text.values)
        word = all_words.split()
        common_words = Counter(word).most_common()
        common_word = [p for p, q in common_words]
        freq_words = [w[0] for w in common_words if w[1] > 5]
        # we take all words in having glove vectors and freq words not iin glove
        common_words_in_glove = [w for w, is_true in zip(common_word, words) if is_true]
        common_words_not_in_glove = [w for w, is_true in zip(common_word, words) if not is_true]
        freq_words_not_in_glove = [w for w in common_words_not_in_glove and freq_words]
        total_words = common_words_in_glove + freq_words_not_in_glove
        word2num = dict(zip(total_words, range(len(total_words))))
        word2num['Other'] = len(word2num)
        word2num['Pad'] = len(word2num)
        num2word = dict(zip(word2num.values(), word2num.keys()))
        text = [[word2num[word] if word in word2num else word2num['Other']
                 for word in content.split()] for content in df.text.values]

        load_model = pickle.load(open('finalized_model.sav', 'rb'))
        sentence = str(request.form.get('article'))
        print(sentence)
        #print(request.form.get('article'))
        sentence_num = [word2num[w] if w in word2num else word2num['Other'] for w in sentence.split()]
        sentence_num = [word2num['Pad']]*(500-len(sentence_num)) + sentence_num
        sentence_num = np.array(sentence_num)
        s = load_model.predict(sentence_num[None,:])
        if s <= 0.5:
            full_filename = 'data:image/jpeg;base64,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'
        else :
            full_filename = 'data:image/png;base64,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'
    else:
        full_filename = 'Type message'
    k.clear_session()
    return render_template('result.html', link=full_filename,score = str(s).replace('[','').replace(']',''))

if __name__=='__main__' :
    app.run(debug=True,use_reloader= True)